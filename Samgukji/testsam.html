<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>삼국지 인간학</title>
    <style>
        /* CSS Variables for consistent styling and easy modification */
        :root {
      --color-parchment: #f5e9d3;        /* 두루마리(양피지) 베이스 */
      --color-wood: #3d2b1f;             /* 짙은 목재 브라운 */
      --color-gold: #c49b66;             /* 은은한 금빛 */
      --color-ink: #2b1a0e;              /* 먹물 같은 다크 브라운 */
      --color-accent: #7d5a4f;           /* 전통 도자기 물레 느낌 */
      --gap-desktop: 20px;
      --gap-mobile: 15px;
      --header-height: 80px;
      --footer-height: 60px;
      --sidebar-width-desktop: 25%;
      --shadow-color: rgba(0, 0, 0, 0.2);
    }

        body {
      display: grid;
      grid-template-columns: var(--sidebar-width-desktop) 1fr;
      grid-template-rows: var(--header-height) auto 1fr var(--footer-height);
      grid-template-areas:
        "header header"
        "nav nav"
        "aside main"
        "footer footer";
      gap: var(--gap-desktop);

      margin: 0;
      min-height: 100vh;
      font-family: 'Noto Serif KR', serif;
      color: var(--color-ink);

      background: url('./images/parchment-background.jpg') no-repeat center center fixed;
      background-size: cover;
    }

        /* Header styling */
        header {
      grid-area: header;
      background-color: var(--color-wood);
      color: var(--color-parchment);
      text-align: center;
      line-height: var(--header-height);
      font-size: 1.8em;
      box-shadow: 0 2px 6px var(--shadow-color);
      border-bottom: 2px solid var(--color-gold);
    }

        header h1 {
            margin: 0; /* Remove default margin for h1 */
            font-size: 1em; /* Make h1 inherit parent's font-size set above */
        }

    /* — 푸터 — */
    footer {
      grid-area: footer;
      background-color: var(--color-wood);
      color: var(--color-parchment);
      text-align: center;
      line-height: var(--footer-height);
      border-top: 2px solid var(--color-gold);
      box-shadow: 0 -2px 6px var(--shadow-color);
    }
    footer a {
      color: var(--color-parchment);
      text-decoration: none;
      margin: 0 8px;
    }
    footer a:hover {
      color: var(--color-gold);
    }

        /* — 내비게이션 — */
    nav {
      grid-area: nav;
      background-color: rgba(61,43,31,0.85);
      padding: 10px var(--gap-desktop);
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      border-bottom: 1px solid var(--color-gold);
    }

    nav .nav-item {
      background-color: var(--color-accent);
      border: 1px solid var(--color-gold);
      color: var(--color-wood);
    }
    nav .nav-item h3 {
      color: var(--color-wood);
    }

        .tab-container {
            /* nav와 똑같이 동작하도록 복사 */
            grid-area: nav;
            background-color: var(--primary-bg-color);
            padding: 10px 20px;
            box-sizing: border-box;
            display: block; /* flex 대신 카드 그리드(.nav-grid)만 감싸도록 block 처리 */
            margin: 0 var(--gap-desktop);
        }

        /* Hide radio buttons */
        input[type="radio"] {
            display: none;
        }

        /* Style for tab labels (buttons) */
        label {
            display: inline-block;
            padding: 12px 20px;
            background-color: var(--tab-label-bg);
            margin: 0 5px 10px 5px; /* Margin around labels */
            cursor: pointer;
            border-radius: 8px 8px 0 0; /* Rounded top corners for tabs */
            transition: background 0.3s ease, color 0.3s ease, box-shadow 0.3s ease;
            font-weight: bold;
            color: var(--tab-label-color);
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            white-space: nowrap; /* Prevent tab labels from breaking lines */
        }

        label:hover {
            background-color: #d0d0d0; /* Darker grey on hover */
        }

        /* Style for checked tab label */
        input[type="radio"]:checked + label {
            background-color: var(--tab-label-active-bg);
            color: var(--tab-label-active-color);
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2); /* More pronounced shadow when active */
            transform: translateY(-2px); /* Slight lift effect */
        }

        /* Common style for tab content */
        .content {
            display: none; /* Hidden by default */
            width: 100%; /* Take full width within its container */
            padding: var(--gap-desktop);
            border-radius: 0 18px 18px 18px; /* Rounded corners for content box */
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.15);
            margin-top: 10px;
            background-color: var(--article-bg-color); /* Consistent background */
            color: var(--text-color);
            text-align: left;
            box-sizing: border-box; /* Include padding in width */
        }

        .content h4 {
            color: var(--text-color);
            margin-top: 0;
            font-size: 1.4em;
            text-align: center;
            border-bottom: 1px solid rgba(0, 0, 0, 0.1);
            padding-bottom: 10px;
            margin-bottom: 20px;
        }

        .content p {
            line-height: 1.6;
        }

        /* Show active tab content */
        #tab1:checked ~ #content1,
        #tab2:checked ~ #content2,
        #tab3:checked ~ #content3,
        #tab4:checked ~ #content4,
        #tab5:checked ~ #content5 {
            display: block; /* Display the active tab content */
        }

        /* — 사이드바 — */
    aside {
      grid-area: aside;
      background-color: rgba(245,233,211,0.9);
      padding: var(--gap-desktop);
      box-shadow: 2px 0 5px var(--shadow-color);
      border-right: 2px solid var(--color-gold);
    }

    aside .box {
      background-color: var(--color-parchment);
      border: 1px solid var(--color-accent);
    }
    aside .box h2 {
      color: var(--color-ink);
    }

        aside article {
            width: 100%; /* Ensure article within aside takes full width */
            /* Removed margin-bottom here as gap handles spacing */
        }

        aside h3 {
            color: #444;
            margin-top: 0;
            font-size: 1.3em;
            padding-bottom: 10px;
            border-bottom: 1px dashed rgba(0, 0, 0, 0.2);
            margin-bottom: 20px;
        }

        /* Box styling within aside */
        .box {
            background-color: var(--box-bg-color);
            box-shadow: 2px 2px 2px 2px darkgrey;
            margin: 0; /* Removed auto margin, now flex container handles centering */
            border-radius: 10px;
            padding: 15px;
            text-align: left;
            box-sizing: border-box;
            border: 1px solid rgba(0, 0, 0, 0.1);
            width: 100%; /* Ensure box takes full width of its parent article */
        }

        .box h2 {
            text-align: center;
            color: grey;
            margin-top: 0;
            margin-bottom: 15px;
            font-size: 1.2em;
        }

        .box ol {
            padding-left: 25px;
            line-height: 1.6;
        }

        .box ol li {
            margin-bottom: 8px;
        }

     /* — 메인 콘텐츠 — */
    main {
      grid-area: main;
      background-color: rgba(245,233,211,0.85);
      padding: var(--gap-desktop);
      box-shadow: -2px 0 5px var(--shadow-color);
      border-left: 2px solid var(--color-gold);
    }
    main article {
      background-color: var(--color-parchment);
      border: 1px solid var(--color-accent);
      box-shadow: 0 2px 4px var(--shadow-color);
    }

        /* Table styling */
        table {
            width: 100%;
            margin: 20px 0;
            border-collapse: collapse;
            background-color: rgba(255, 255, 255, 0.8);
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            border-radius: 8px; /* Rounded table corners */
            overflow: hidden; /* Hide overflowing borders for rounded corners */
        }

        caption {
            font-size: 1.5em;
            color: blue;
            margin-bottom: 10px;
            font-weight: bold;
            padding: 10px 0;
            text-align: center;
        }

        th, td {
            padding: 12px 15px;
            border: 1px solid var(--table-border-color);
            text-align: center;
            box-sizing: border-box;
        }

        th {
            background-color: var(--table-header-bg);
            color: #555;
            font-weight: bold;
        }

        tr:nth-child(even) {
            background-color: var(--table-row-even-bg);
        }

        tr:nth-child(odd) {
            background-color: var(--table-row-odd-bg);
        }

        /* New section styling for the "시대 흐름" content */
        .time-flow-overlay { /* Changed class to denote overlay behavior */
            position: fixed; /* Position relative to the viewport */
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.8); /* Dark semi-transparent background */
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000; /* Bring to front */
            opacity: 0; /* Start hidden with opacity */
            visibility: hidden; /* Start hidden with visibility */
            transition: opacity 0.3s ease, visibility 0.3s ease;
        }

        /* 오버레이 내부 닫기 버튼 스타일 */
        .overlay-close-btn {
            position: absolute;
            top: 10px;
            right: 10px;
            background: rgba(0,0,0,0.6);
            color: #fff;
            border: none;
            font-size: 1.5em;
            width: 36px;
            height: 36px;
            line-height: 36px;
            text-align: center;
            border-radius: 50%;
            cursor: pointer;
            z-index: 1001;
        }

        .time-flow-overlay.active {
            opacity: 1;
            visibility: visible;
        }

        .time-flow-overlay .image-wrapper {
            background-color: var(--article-bg-color); /* Background for the image content */
            padding: var(--gap-desktop);
            border-radius: 8px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.5);
            max-width: 90%; /* Max width of the image container */
            max-height: 90%; /* Max height of the image container */
            overflow: auto; /* Enable scrolling if image is too large for wrapper */
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column; /* For title/text if added later */
        }

        .time-flow-overlay h3 {
            font-size: 1.8em;
            color: var(--text-color);
            margin-bottom: 20px;
            border-bottom: 1px solid rgba(0,0,0,0.1);
            padding-bottom: 10px;
            text-align: center;
        }

        .time-flow-overlay img {
            max-width: 100%; /* Ensure image scales down within the wrapper */
            height: auto;
            border-radius: 5px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
            display: block; /* Remove extra space below image */
            margin: 0 auto; /* Center image */
        }

        /*  버튼 그룹(범주) 스타일         */
        .btn-group {
            display: flex;
            flex-wrap: wrap;
            justify-content: space-around;  /* 좌우 균형 배치 */
            gap: 12px;
            border: 1px solid #ccc;
            border-radius: 8px;
            margin-bottom: 20px;
            padding: 14px 12px;
            background-color: rgba(255, 255, 240, 0.9);
        }
        .btn-group legend {
            padding: 0 8px;
            font-weight: 600;
            font-family: 'Segoe UI', sans-serif;
            color: #333;
        }

        /* === ② 탭 카드를 그리드로 배치 === */
        .nav-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 20px;
        list-style: none;
        margin: 0;
        padding: 0;
        }

        /* === ③ 카드 스타일 === */
        .nav-item {
        display: flex;
        flex-direction: column;
        background: rgba(218,165,32,0.1); /* 연한 골든로드 배경 */
        border: 2px solid goldenrod;
        border-radius: 10px;
        overflow: hidden;
        cursor: pointer;
        transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .nav-item:hover {
        transform: translateY(-5px);
        box-shadow: 0 8px 16px rgba(0,0,0,0.2);
        }

        /* === ④ 카드 내 이미지 스타일 === */
        .nav-item img {
        width: 100%;
        height: 150px;
        object-fit: cover;
        }

        /* === ⑤ 카드 내 텍스트 스타일 === */
        .nav-item h3 {
        margin: 12px 0 6px;
        color: goldenrod;
        font-family: 'Georgia', serif;
        font-size: 1.1em;
        text-align: center;
        }
        .nav-item p {
        margin: 0 10px 15px;
        color: #555;
        font-size: 0.9em;
        text-align: center;
        line-height: 1.4;
        }


        /*  버튼 기본 스타일 재정의         */
        .toggle-btn {
            flex: 1 1 120px;               /* 최소 120px, 균등 확장 */
            max-width: 180px;
            margin: 6px 4px;
            padding: 10px 0;
            background: linear-gradient(135deg, #DAA520, #FFD700);
            color: #555;
            font-family: 'Segoe UI Semibold', 'Segoe UI', sans-serif;
            font-size: 0.95em;
            font-weight: 600;
            letter-spacing: 0.5px;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.3);
            border: none;
            border-radius: 4px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
            cursor: pointer;
            transition: transform 0.1s ease, box-shadow 0.2s ease, background 0.2s ease;
        }
        .toggle-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0,0,0,0.3);
            background: linear-gradient(135deg, #FFD700, #DAA520);
        }
        .toggle-btn:active {
            transform: translateY(0);
            box-shadow: 0 3px 6px rgba(0,0,0,0.2);
            background: #DAA520;
        }

        /* Responsive Design Media Queries */

        /* Tablet and smaller desktops */
        @media (max-width: 1024px) {
            body {
                gap: var(--gap-mobile);
                /* Adjust sidebar width slightly */
                grid-template-columns: 30% 1fr;
            }

            header {
                font-size: 2.2em;
            }

            nav {
                margin: 0 var(--gap-mobile);
            }

            aside {
                margin-left: var(--gap-mobile);
                padding: var(--gap-mobile);
            }

            main {
                margin-right: var(--gap-mobile);
                padding: var(--gap-mobile);
            }

            label {
                padding: 10px 15px;
                font-size: 0.95em;
                margin: 0 4px 8px 4px;
            }

            .content {
                padding: var(--gap-mobile);
            }

            .time-flow-overlay .image-wrapper {
                padding: var(--gap-mobile);
            }
        }


        /* Mobile devices */
        @media (max-width: 768px) {
       body {
        gap: var(--gap-mobile);
        grid-template-columns: 1fr;
        grid-template-areas:
          "header"
          "nav"
          "aside"
          "main"
          "footer";
      }

            header {
                font-size: 1.8em; /* Smaller font size for header */
                line-height: normal; /* Allow height to adjust based on padding */
                padding: 10px;
                border-radius: 0; /* Remove rounded corners on smaller screens */
            }

            footer {
                border-radius: 0; /* Remove rounded corners on smaller screens */
            }

            nav {
                flex-direction: column; /* Stack nav labels vertically */
                align-items: stretch; /* Stretch labels to full width */
                padding: 10px;
                margin: 0; /* Remove horizontal margin */
                border-radius: 0;
            }

            label {
                margin: 5px 0; /* Vertical margin for stacked labels */
                border-radius: 8px; /* Full rounded corners for stacked labels */
                text-align: center;
                width: 100%; /* Make label take full width */
            }

      aside, main {
        border: none;
        box-shadow: none;
      }

            main {
                grid-template-columns: 1fr; /* Stack articles vertically */
            }

            caption {
                font-size: 1.2em;
            }

            th, td {
                padding: 8px 10px; /* Smaller padding for table cells */
                font-size: 0.85em;
            }

            /* Adjust background for smaller screens to ensure visibility */
            body {
                background-size: auto 100%; /* Cover height, auto width */
                background-position: top center;
            }

            .time-flow-overlay .image-wrapper {
                padding: var(--gap-mobile);
            }

            .time-flow-overlay h3 {
                font-size: 1.5em;
            }

            .toggle-btn {
                padding: 8px 12px;
                font-size: 0.9em;
            }
        }

        @media (max-width: 480px) {
            header {
                font-size: 1.4em;
                padding: 8px;
            }

            .content {
                padding: 10px;
            }

            .box {
                margin: 8px auto;
                padding: 10px;
            }

            .box h2 {
                font-size: 1.1em;
            }

            table {
                font-size: 0.8em;
            }

            th, td {
                padding: 6px 8px;
            }

            .time-flow-overlay h3 {
                font-size: 1.3em;
            }
        }
    </style>
</head>

<body>
    <header>
        <h1>삼국지 인간학에 오신것을 환영합니다</h1>
    </header>

    <nav class="tab-container">
  <ul class="nav-grid">
    <li>
      <button class="nav-item" data-tab="tab1">
        <img
          src="./images/samgukjiperson.png"
          alt="인물론"
          onerror="this.onerror=null; this.src='https://placehold.co/400x300/fff/000?text=No+Image';"
        >
        <h3>인물론</h3>
        <p>삼국지 주요 인물들의 성격과 전략을 분석합니다.</p>
      </button>
    </li>
    <li>
      <button class="nav-item" data-tab="tab2">
        <img
          src="./images/samgukjiandyanyi.png"
          alt="삼국지와 연의"
          onerror="this.onerror=null; this.src='https://placehold.co/400x300/fff/000?text=No+Image';"
        >
        <h3>삼국지와 연의</h3>
        <p>정사와 연의의 차이를 비교하고 그 의의를 살펴봅니다.</p>
      </button>
    </li>
    <li>
      <button class="nav-item" data-tab="tab3">
        <img
          src="./images/guandubattle.png"
          alt="관도대전"
          onerror="this.onerror=null; this.src='https://placehold.co/400x300/fff/000?text=No+Image';"
        >
        <h3>관도대전</h3>
        <p>조조와 원소가 북방의 최종 승자를 겨루는 전투입니다.</p>
      </button>
    </li>
    <li>
      <button class="nav-item" data-tab="tab4">
        <img
          src="./images/redcliffbattle.png"
          alt="적벽대전"
          onerror="this.onerror=null; this.src='https://placehold.co/400x300/fff/000?text=No+Image';"
        >
        <h3>적벽대전</h3>
        <p>남녀노소 모두 사랑하는 불멸의 수싸움을 되짚어봅니다.</p>
      </button>
    </li>
    <li>
      <button class="nav-item" data-tab="tab5">
        <img
          src="./images/yilingbattle.png"
          alt="이릉대전"
          onerror="this.onerror=null; this.src='https://placehold.co/400x300/fff/000?text=No+Image';"
        >
        <h3>이릉대전</h3>
        <p>촉의 운명을 갈랐던 마지막 대규모 전투를 분석합니다.</p>
      </button>
    </li>
  </ul>
</nav>

    <!-- Semantic tag for sidebar content -->
    <aside>
        <article>
            <h3><span style="color: blue;">蒼天</span>以死，<span style="color: gold;">黃天</span>當立，勢在甲子，天下大吉</h3>
            <div class="box">
                <h2>후한의 멸망</h2>
                <ol>
                    <li>사실상 천자가 <span style="color: red;">和帝</span>에서 죽은거 맞는지?</li>
                    <li><span style="color: red;">桓帝,靈帝</span>때 나라가 망했다. (출사표)</li>
                    <li>농민의 난, 황건적의 난, 동탁의 난, 이각 및 곽사의 난으로 부터 군웅할거까지</li>
                    <li>奉天子以令不臣, 挾天子以令諸候;
                        <span style="color: blue;">治世</span>의<span style="color: red;">能臣</span>,
                        <span style="color: blue;">亂世</span>의<span style="color: red;">奸雄;</span></li>
                </ol>
            </div>
        </article>
        <!-- 버튼 효과 -->
        <!-- 1) 시대 개관 -->
        <fieldset class="btn-group">
            <legend>역사 흐름</legend>
            <button class="toggle-btn" data-image-src="images/samgukji02.png">시대 흐름</button>
            <button class="toggle-btn" data-image-src="images/samgukji03.png">3의 세계</button>
            <button class="toggle-btn" data-image-src="images/samgukji04.png">시대 배경</button>
        </fieldset>

        <!-- 2) 문헌·이론 -->
        <fieldset class="btn-group">
            <legend>문헌·이론</legend>
            <button class="toggle-btn" data-image-src="images/samgukji05.png">정사·연의 비교</button>
            <button class="toggle-btn" data-image-src="images/samgukji06.png">정통론</button>
            <button class="toggle-btn" data-image-src="images/samgukji18.png">정사 평론</button>
            <button class="toggle-btn" data-image-src="images/samgukji19.png">모택동 평론</button>
        </fieldset>

        <!-- 3) 사회·인구 -->
        <fieldset class="btn-group">
            <legend>사회·인구</legend>
            <button class="toggle-btn" data-image-src="images/samgukji07.png">적벽대전 나이</button>
            <button class="toggle-btn" data-image-src="images/samgukji08.png">한족 중심 문화</button>
            <button class="toggle-btn" data-image-src="images/samgukji09.png">3국 시대 인구</button>
            <button class="toggle-btn" data-image-src="images/samgukji10.png">인구·기후 변화</button>
        </fieldset>

        <!-- 4) 텍스트 뷰 -->
        <fieldset class="btn-group">
            <legend>군주·장군·모사</legend>
            <button class="toggle-btn" data-image-src="images/samgukji11.png">군주편</button>
            <button class="toggle-btn" data-image-src="images/samgukji12.png">장군편</button>
            <button class="toggle-btn" data-image-src="images/samgukji13.png">모사편</button>
        </fieldset>

        <!-- 5) 조조 중심 -->
        <fieldset class="btn-group">
            <legend>조조 중심</legend>
            <button class="toggle-btn" data-image-src="images/samgukji14.png">조조의 정벌</button>
            <button class="toggle-btn" data-image-src="images/samgukji17.png">힘의 균형</button>
            <button class="toggle-btn" data-image-src="images/samgukji20.png">조조의 일생</button>
            <button class="toggle-btn" data-image-src="images/samgukji22.png">인재 등용</button>
            <button class="toggle-btn" data-image-src="images/samgukji23.png">제갈량 인맥</button>
            <button class="toggle-btn" data-image-src="images/samgukji24.png">창업자·후계자</button>
        </fieldset>
    </aside>

    <!-- Semantic tag for main content area -->
    <main>
        <article>
            <!-- 동한 14명 황제 즉위/사망연도 -->
            <table>
                <caption>동한 14명 황제 즉위 및 사망 연도</caption>
                <thead>
                    <tr>
                        <th>순위</th>
                        <th>황제</th>
                        <th>재위기간</th>
                        <th>즉위나이</th>
                        <th>사망연도</th>
                    </tr>
                </thead>
                <tbody>
                    <tr><td>초대</td><td>광무제</td><td>25~57년</td><td>31세즉위</td><td>62세 사망</td></tr>
                    <tr><td>2대</td><td>명제</td><td>57~75년</td><td>30세즉위</td><td>48세 사망</td></tr>
                    <tr><td>3대</td><td>장제</td><td>75~88년</td><td>19세즉위</td><td>32세 사망</td></tr>
                    <tr><td>4대</td><td>화제</td><td>88~105년</td><td>10세즉위</td><td>27세 사망</td></tr>
                    <tr><td>5대</td><td>상제</td><td>105~106년</td><td>100일즉위</td><td>1세 사망</td></tr>
                    <tr><td>6대</td><td>안제</td><td>106~125년</td><td>13세즉위</td><td>32세 사망</td></tr>
                    <tr><td>7대</td><td>소제</td><td>125년</td><td>재위200일</td><td>승인안함</td></tr>
                    <tr><td>8대</td><td>순제</td><td>125~144년</td><td>11세즉위</td><td>30세 사망</td></tr>
                    <tr><td>9대</td><td>충제</td><td>144~145년</td><td>2세즉위</td><td>3세 사망</td></tr>
                    <tr><td>10대</td><td>질제</td><td>145~146년</td><td>8세즉위</td><td>9세 사망</td></tr>
                    <tr><td>11대</td><td>환제</td><td>146~167년</td><td>15세즉위</td><td>37세 사망</td></tr>
                    <tr><td>12대</td><td>영제</td><td>168~189년</td><td>12세즉위</td><td>34세 사망</td></tr>
                    <tr><td>13대</td><td>소제</td><td>189년</td><td>16세즉위</td><td>18세 사망</td></tr>
                    <tr><td>14대</td><td>헌제</td><td>189~220년</td><td>9세즉위</td><td>54세 사망</td></tr>
                </tbody>
            </table>
        </article>

        <article>
            <!-- 삼국지 정통론 -->
            <table>
                <caption>삼국지 정통론</caption>
                <thead>
                    <tr>
                        <th>순서</th>
                        <th>내용</th>
                        <th>자료</th>
                        <th>저자</th>
                        <th>연도</th>
                    </tr>
                </thead>
                <tbody>
                    <tr><td>1</td><td>삼국시대</td><td colspan="2">-</td><td>184~280</td></tr>
                    <tr><td rowspan="4">2</td><td rowspan="4">정사</td><td rowspan="2">삼국지</td><td>진수</td><td>285</td></tr>
                    <tr><td>배송지</td><td>429</td></tr>
                    <tr><td>후한서</td><td>범영</td><td>445</td></tr>
                    <tr><td>진서</td><td>방현령</td><td>648</td></tr>
                    <tr><td rowspan="3">3</td><td rowspan="3">준정사</td><td>자치통감</td><td>사마광</td><td>1086</td></tr>
                    <tr><td>자치통감강목</td><td rowspan="2">주희</td><td rowspan="2">1200</td></tr>
                    <tr><td>자치통감강목주해</td></tr>
                    <tr><td rowspan="2">4</td><td rowspan="2">연의</td><td rowspan="2">삼국지연의</td><td>나관중</td><td>1321</td></tr>
                    <tr><td>모종강</td><td>1679</td></tr>
                    <tr><td>5</td><td>일본,한국</td><td>만화,소설,게임 등 </td><td>-</td><td>1679~(1940)~</td></tr>
                    <tr><td>6</td><td>문화대혁명</td><td>평론</td><td>모택동</td><td>1966</td></tr>
                    <tr><td rowspan="4">기타</td><td>시</td><td>촉상</td><td>두보</td><td>750</td></tr>
                    <tr><td>사</td><td>적벽부</td><td>소동파</td><td>1082</td></tr>
                    <tr><td>사서</td><td>18사략</td><td>증선지</td><td>1265</td></tr>
                    <tr><td>소설</td><td>삼국지평화</td><td>-</td><td>1320</td></tr>
                </tbody>
            </table>
        </article>
    </main>

    <footer>
        저작권&copy;2025 김우성 /
        <a href="https://naver.com" target="_blank">네이버</a>
        <a href="https://chatgpt.com/" target="_blank">ChatGPT</a>
        <a href="https://gemini.google.com/" target="_blank">Gemini</a>
    </footer>

    <!-- 시대 흐름 내용을 오버레이로 변경 -->
    <div id="time-flow-overlay" class="time-flow-overlay">
        <!-- ① 추가: 닫기(X) 버튼 -->
        <button id="overlay-close-btn" class="overlay-close-btn" aria-label="닫기">×</button>
        <div class="image-wrapper">
            <!-- h3 태그를 제거하여 이미지에 포함된 제목을 활용 -->
            <img id="overlay-display-image" src="samgukji02.png" onerror="this.onerror=null; this.src='https://placehold.co/800x450/fff/000?text=이미지+로드+실패';" alt="확대 이미지">
        </div>
    </div>

<script>
        document.addEventListener('DOMContentLoaded', function() {
            const asideContainer       = document.querySelector('aside');
            const timeFlowOverlay      = document.getElementById('time-flow-overlay');
            const overlayDisplayImage  = document.getElementById('overlay-display-image');
            const closeBtn             = document.getElementById('overlay-close-btn');

        // 공통 닫기 함수
        function hideOverlay() {
            timeFlowOverlay.classList.remove('active');
            document.body.style.overflow = '';
        }

        // 1) 오버레이 배경 클릭 시 닫기
        timeFlowOverlay.addEventListener('click', function(e) {
            if (e.target === timeFlowOverlay) {
                hideOverlay();
            }
        });

        // 2) 닫기(X) 버튼 클릭 시 닫기
        closeBtn.addEventListener('click', hideOverlay);

        // 3) ESC 키 누르면 닫기
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape' && timeFlowOverlay.classList.contains('active')) {
                hideOverlay();
            }
        });

        // 4) 사이드바 버튼 클릭: 이미지 토글
        asideContainer.addEventListener('click', function(event) {
            const btn = event.target.closest('button.toggle-btn');
            if (!btn) return;

            const src = btn.dataset.imageSrc;
            if (!src) return;

            if (timeFlowOverlay.classList.contains('active') &&
                overlayDisplayImage.src.includes(src)) {
                hideOverlay();
            } else {
                overlayDisplayImage.src = src;
                timeFlowOverlay.classList.add('active');
                document.body.style.overflow = 'hidden';
                timeFlowOverlay.scrollIntoView({ behavior: 'smooth', block: 'center' });
            }
        });
    });
</script>
</body>
</html>
