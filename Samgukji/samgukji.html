<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>삼국지 인간학</title>
    <style>
        /* CSS Variables for consistent styling and easy modification */
        :root {
            --header-height: 80px;
            --footer-height: 60px;
            --gap-desktop: 20px;
            --gap-mobile: 15px;
            --sidebar-width-desktop: 25%;
            
            /* 양피지 느낌의 색상 팔레트 */
            --primary-bg-color: rgba(245, 241, 230, 0.95); /* 양피지 베이스 */
            --secondary-bg-color: rgba(250, 248, 240, 0.9); /* 밝은 양피지 */
            --content-bg-color: rgba(252, 250, 245, 0.95); /* 매우 밝은 양피지 */
            --article-bg-color: rgba(248, 244, 235, 0.9); /* 중간 양피지 */
            
            /* 텍스트 색상 */
            --text-color: #2c2c2c; /* 진한 회색 */
            --link-color: #8B4513; /* 갈색 링크 */
            --link-hover-color: #A0522D; /* 호버 시 더 진한 갈색 */
            
            /* 테두리 및 그림자 */
            --border-color: #D2B48C; /* 탄 베이지 */
            --shadow-color: rgba(139, 69, 19, 0.2); /* 갈색 그림자 */
            
            /* 탭 스타일 */
            --tab-label-bg: #F5F5DC; /* 베이지 */
            --tab-label-active-bg: #8B4513; /* 갈색 */
            --tab-label-color: #5D4037; /* 진한 갈색 */
            --tab-label-active-color: #F5F5DC; /* 베이지 */
            
            /* 테이블 스타일 - 세련된 디자인 */
            --table-border-color: #D2B48C; /* 탄 베이지 */
            --table-header-bg: linear-gradient(135deg, #8B4513, #A0522D); /* 갈색 그라데이션 */
            --table-header-color: #F5F5DC; /* 베이지 텍스트 */
            --table-row-even-bg: rgba(245, 241, 230, 0.6); /* 밝은 양피지 */
            --table-row-odd-bg: rgba(250, 248, 240, 0.8); /* 더 밝은 양피지 */
            --table-row-hover-bg: rgba(210, 180, 140, 0.3); /* 호버 시 탄 베이지 */
            
            /* 박스 스타일 */
            --box-bg-color: rgba(245, 241, 230, 0.9); /* 양피지 */
            --box-border-color: #D2B48C; /* 탄 베이지 */
            
            /* 푸터 텍스트 */
            --footer-text-color: #5D4037; /* 진한 갈색 */
        }

        body {
            display: grid;
            background: url(https://i.pinimg.com/736x/c8/1e/35/c81e357bd8a4004f19c8493c60ff529a.jpg) no-repeat center center fixed;
            background-size: cover;
            margin: 0;
            min-height: 100vh; /* Ensure body takes full viewport height */
            font-family: 'Inter', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; /* Prefer Inter if available, fallback to Segoe UI */
            color: var(--text-color);
            overflow-x: hidden; /* Prevent horizontal scrolling */

            /* Desktop layout using CSS Grid */
            grid-template-columns: var(--sidebar-width-desktop) 1fr;
            grid-template-rows: var(--header-height) auto 1fr var(--footer-height);
            grid-template-areas:
                "header header"
                "nav nav"
                "aside main"
                "footer footer";
            gap: var(--gap-desktop); /* Gap between grid items */
        }

        /* Header styling */
        header {
            grid-area: header;
            background-color: var(--primary-bg-color);
            text-align: center;
            font-size: 2.5em; /* Responsive font size for larger screens */
            line-height: var(--header-height);
            color: var(--link-color);
            text-shadow: 2px 2px 4px var(--shadow-color);
            border-bottom: 2px solid var(--border-color);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            border-radius: 0 0 15px 15px; /* Rounded bottom corners */
        }

        header h1 {
            margin: 0; /* Remove default margin for h1 */
            font-size: 1em; /* Make h1 inherit parent's font-size set above */
        }

        /* Footer styling */
        footer {
            grid-area: footer;
            background-color: var(--primary-bg-color);
            font-size: 0.9em;
            text-align: center;
            line-height: var(--footer-height);
            color: var(--footer-text-color); /* Darker text color */
            padding: 0 10px;
            border-top: 2px solid var(--border-color);
            box-shadow: 0 -4px 8px rgba(0, 0, 0, 0.1);
            border-radius: 15px 15px 0 0; /* Rounded top corners */
        }

        footer a {
            color: var(--footer-text-color); /* Darker link color */
            text-decoration: none;
            margin: 0 5px;
            transition: color 0.3s ease;
        }

        footer a:hover {
            color: var(--link-hover-color);
        }

        /* Navigation styling (tab container) */
        nav {
            grid-area: nav;
            background-color: var(--primary-bg-color);
            padding: 10px 20px;
            box-sizing: border-box;
            display: flex;
            flex-wrap: wrap; /* Allow tabs to wrap on smaller screens */
            justify-content: center; /* Center nav items */
            align-items: center;
            border-bottom: 1px solid rgba(255, 255, 0, 0.3);
            border-radius: 10px; /* Slightly rounded overall nav */
            margin: 0 var(--gap-desktop); /* Horizontal margin to match grid gap */
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }

        .tab-container {
            /* nav와 똑같이 동작하도록 복사 */
            grid-area: nav;
            background-color: var(--primary-bg-color);
            padding: 10px 20px;
            box-sizing: border-box;
            display: block; /* flex 대신 카드 그리드(.nav-grid)만 감싸도록 block 처리 */
            margin: 0 var(--gap-desktop);
        }

        /* Hide radio buttons */
        input[type="radio"] {
            display: none;
        }

        /* Style for tab labels (buttons) */
        label {
            display: inline-block;
            padding: 12px 20px;
            background-color: var(--tab-label-bg);
            margin: 0 5px 10px 5px; /* Margin around labels */
            cursor: pointer;
            border-radius: 8px 8px 0 0; /* Rounded top corners for tabs */
            transition: background 0.3s ease, color 0.3s ease, box-shadow 0.3s ease;
            font-weight: bold;
            color: var(--tab-label-color);
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            white-space: nowrap; /* Prevent tab labels from breaking lines */
        }

        label:hover {
            background-color: #d0d0d0; /* Darker grey on hover */
        }

        /* Style for checked tab label */
        input[type="radio"]:checked + label {
            background-color: var(--tab-label-active-bg);
            color: var(--tab-label-active-color);
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2); /* More pronounced shadow when active */
            transform: translateY(-2px); /* Slight lift effect */
        }

        /* Common style for tab content */
        .content {
            display: none; /* Hidden by default */
            width: 100%; /* Take full width within its container */
            padding: var(--gap-desktop);
            border-radius: 0 18px 18px 18px; /* Rounded corners for content box */
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.15);
            margin-top: 10px;
            background-color: var(--article-bg-color); /* Consistent background */
            color: var(--text-color);
            text-align: left;
            box-sizing: border-box; /* Include padding in width */
        }

        .content h4 {
            color: var(--text-color);
            margin-top: 0;
            font-size: 1.4em;
            text-align: center;
            border-bottom: 1px solid rgba(0, 0, 0, 0.1);
            padding-bottom: 10px;
            margin-bottom: 20px;
        }

        .content p {
            line-height: 1.6;
        }

        /* Show active tab content */
        #tab1:checked ~ #content1,
        #tab2:checked ~ #content2,
        #tab3:checked ~ #content3,
        #tab4:checked ~ #content4,
        #tab5:checked ~ #content5 {
            display: block; /* Display the active tab content */
        }

        /* Aside (sidebar) styling */
        aside {
            grid-area: aside;
            background-color: var(--secondary-bg-color);
            padding: var(--gap-desktop);
            box-shadow: 2px 0 5px var(--shadow-color);
            overflow-y: auto;
            border-radius: 10px;
            margin-left: var(--gap-desktop);
            box-sizing: border-box;
            display: grid; /* flex -> grid로 변경 */
            grid-template-columns: 1fr 1fr; /* 2열 그리드 */
            gap: 16px; /* 버튼 그룹 간 간격 */
            align-items: start;
        }

        aside article {
            width: 100%;
            grid-column: 1 / -1; /* article(후한의 멸망)은 2칸 전체 차지 */
        }

        aside h3 {
            color: var(--text-color);
            margin-top: 0;
            font-size: 1.3em;
            padding-bottom: 10px;
            border-bottom: 2px solid var(--border-color);
            margin-bottom: 20px;
            font-family: 'Georgia', serif;
        }

        /* Box styling within aside */
        .box {
            background: linear-gradient(135deg, var(--box-bg-color), var(--secondary-bg-color));
            box-shadow: 0 4px 12px var(--shadow-color);
            margin: 0; /* Removed auto margin, now flex container handles centering */
            border-radius: 12px;
            padding: 20px;
            text-align: left;
            box-sizing: border-box;
            border: 2px solid var(--border-color);
            width: 100%; /* Ensure box takes full width of its parent article */
            transition: all 0.3s ease;
        }

        .box:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 16px var(--shadow-color);
        }

        .box h2 {
            text-align: center;
            color: var(--text-color);
            margin-top: 0;
            margin-bottom: 15px;
            font-size: 1.3em;
            font-family: 'Georgia', serif;
            font-weight: bold;
            border-bottom: 1px solid var(--border-color);
            padding-bottom: 10px;
        }

        .box ol {
            padding-left: 25px;
            line-height: 1.8;
            color: var(--text-color);
        }

        .box ol li {
            margin-bottom: 10px;
            font-family: 'Georgia', serif;
        }

        /* Main content area styling */
        main {
            grid-area: main;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); /* Responsive grid for articles */
            gap: var(--gap-desktop);
            background-color: var(--content-bg-color);
            padding: var(--gap-desktop);
            overflow-y: auto; /* Allow scrolling for long content */
            border-radius: 10px;
            margin-right: var(--gap-desktop); /* Right margin to align with grid */
            box-sizing: border-box;
        }

        /* Article styling within main content */
        main article {
            background-color: var(--article-bg-color);
            border: 2px solid var(--border-color);
            border-radius: 8px;
            box-shadow: 3px 3px 8px var(--shadow-color);
            padding: 15px;
            text-align: center;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            box-sizing: border-box;
        }

        /* Table styling */
        table {
            width: 100%;
            margin: 20px 0;
            border-collapse: collapse;
            background-color: var(--content-bg-color);
            box-shadow: 0 4px 15px var(--shadow-color);
            border-radius: 12px; /* 더 둥근 모서리 */
            overflow: hidden; /* Hide overflowing borders for rounded corners */
            border: 2px solid var(--border-color);
        }

        caption {
            font-size: 1.5em;
            color: var(--text-color);
            margin-bottom: 15px;
            font-weight: bold;
            padding: 15px 0;
            text-align: center;
            background: linear-gradient(135deg, var(--border-color), var(--box-bg-color));
            border-radius: 8px;
            box-shadow: 0 2px 8px var(--shadow-color);
            font-family: 'Georgia', 'Times New Roman', serif;
            letter-spacing: 1px;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.1);
        }

        th, td {
            padding: 15px 18px;
            border: 1px solid var(--border-color);
            text-align: center;
            box-sizing: border-box;
            transition: background-color 0.3s ease;
            font-family: 'Georgia', 'Times New Roman', serif;
            line-height: 1.4;
        }

        th {
            background: var(--table-header-bg);
            color: var(--table-header-color);
            font-weight: bold;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.3);
            font-size: 1.1em;
            font-family: 'Georgia', 'Times New Roman', serif;
            letter-spacing: 0.5px;
            text-transform: uppercase;
            font-variant: small-caps;
        }

        td {
            font-size: 1em;
            font-weight: 500;
            color: var(--text-color);
            font-family: 'Georgia', 'Times New Roman', serif;
        }

        /* 특별한 셀 스타일링 */
        td:first-child {
            font-weight: bold;
            color: var(--link-color);
            background: linear-gradient(135deg, rgba(139, 69, 19, 0.1), rgba(210, 180, 140, 0.1));
        }

        /* 숫자 데이터 셀 */
        td:nth-child(3),
        td:nth-child(4),
        td:nth-child(5) {
            font-family: 'Courier New', monospace;
            font-weight: 600;
            color: var(--link-hover-color);
        }

        /* 특정 텍스트 스타일링 - 클래스 기반 */
        .highlight-text {
            font-weight: bold;
            color: var(--link-color);
            font-family: 'Georgia', 'Times New Roman', serif;
            text-shadow: 1px 1px 1px rgba(0,0,0,0.1);
            letter-spacing: 0.3px;
        }

        .era-text {
            font-size: 1.1em;
            color: #8B4513;
            font-weight: 700;
        }

        .category-text {
            font-weight: 600;
            color: #A0522D;
            font-style: italic;
        }

        .region-text {
            font-weight: 600;
            color: #8B4513;
        }

        .event-text {
            font-weight: 600;
            color: #CD853F;
        }

        .literature-text {
            font-weight: 600;
            color: #D2691E;
            font-style: italic;
        }

        tr:nth-child(even) {
            background-color: var(--table-row-even-bg);
        }

        tr:nth-child(odd) {
            background-color: var(--table-row-odd-bg);
        }

        /* 테이블 행 호버 효과 */
        tr:hover {
            background-color: var(--table-row-hover-bg);
            transform: scale(1.01);
            transition: all 0.3s ease;
        }

        /* New section styling for the "시대 흐름" content */
        .time-flow-overlay { /* Changed class to denote overlay behavior */
            position: fixed; /* Position relative to the viewport */
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.8); /* Dark semi-transparent background */
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000; /* Bring to front */
            opacity: 0; /* Start hidden with opacity */
            visibility: hidden; /* Start hidden with visibility */
            transition: opacity 0.3s ease, visibility 0.3s ease;
        }

        /* 오버레이 내부 닫기 버튼 스타일 */
        .overlay-close-btn {
            position: fixed; /* 고정 위치 */
            top: 20px;
            right: 20px;
            background: rgba(0,0,0,0.8);
            color: #fff;
            border: 2px solid rgba(255,255,255,0.3);
            font-size: 2em;
            width: 50px;
            height: 50px;
            line-height: 46px;
            text-align: center;
            border-radius: 50%;
            cursor: pointer;
            z-index: 1002; /* 더 높은 z-index */
            transition: all 0.3s ease;
        }

        .overlay-close-btn:hover {
            background: rgba(255,255,255,0.2);
            color: #000;
            border-color: rgba(0,0,0,0.5);
            transform: scale(1.1);
        }

        .time-flow-overlay.active {
            opacity: 1;
            visibility: visible;
        }

        .time-flow-overlay .image-wrapper {
            background-color: rgba(0, 0, 0, 0.95); /* 거의 검은 배경 */
            padding: 0; /* 패딩 제거 */
            border-radius: 0; /* 모서리 둥글게 제거 */
            box-shadow: none; /* 그림자 제거 */
            max-width: 100%; /* 전체 화면 너비 */
            max-height: 100%; /* 전체 화면 높이 */
            width: 100vw; /* 뷰포트 전체 너비 */
            height: 100vh; /* 뷰포트 전체 높이 */
            overflow: hidden; /* 스크롤 제거 */
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            position: relative;
        }

        .time-flow-overlay h3 {
            font-size: 1.8em;
            color: var(--text-color);
            margin-bottom: 20px;
            border-bottom: 1px solid rgba(0,0,0,0.1);
            padding-bottom: 10px;
            text-align: center;
        }

        .time-flow-overlay img {
            max-width: 100vw; /* 뷰포트 전체 너비 */
            max-height: 100vh; /* 뷰포트 전체 높이 */
            width: auto; /* 자동 너비 */
            height: auto; /* 자동 높이 */
            border-radius: 0; /* 모서리 둥글게 제거 */
            box-shadow: none; /* 그림자 제거 */
            display: block;
            margin: 0 auto;
            object-fit: contain; /* 비율 유지하면서 맞춤 */
        }

        /*  버튼 그룹(범주) 스타일         */
        .btn-group {
            display: flex;
            flex-wrap: wrap;
            justify-content: space-around;  /* 좌우 균형 배치 */
            gap: 12px;
            border: 2px solid var(--border-color);
            border-radius: 12px;
            margin-bottom: 8px;
            padding: 16px 14px;
            background: linear-gradient(135deg, var(--box-bg-color), var(--secondary-bg-color));
            box-shadow: 0 4px 12px var(--shadow-color);
        }
        
        .btn-group legend {
            padding: 0 12px;
            font-weight: 600;
            font-family: 'Georgia', serif;
            color: var(--text-color);
            background: var(--content-bg-color);
            border-radius: 6px;
            box-shadow: 0 2px 4px var(--shadow-color);
        }

        /* === ② 탭 카드를 그리드로 배치 === */
        .nav-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 20px;
        list-style: none;
        margin: 0;
        padding: 0;
        }

        /* === ③ 카드 스타일 === */
        .nav-item {
        display: flex;
        flex-direction: column;
        background: var(--box-bg-color);
        border: 2px solid var(--border-color);
        border-radius: 12px;
        overflow: hidden;
        cursor: pointer;
        transition: transform 0.3s ease, box-shadow 0.3s ease;
        box-shadow: 0 4px 8px var(--shadow-color);
        }
        
        .nav-item:hover {
        transform: translateY(-5px);
        box-shadow: 0 8px 20px var(--shadow-color);
        }

        /* === ④ 카드 내 이미지 스타일 === */
        .nav-item img {
        width: 100%;
        height: 150px;
        object-fit: cover;
        }

        /* === ⑤ 카드 내 텍스트 스타일 === */
        .nav-item h3 {
        margin: 12px 0 6px;
        color: var(--text-color);
        font-family: 'Georgia', serif;
        font-size: 1.1em;
        text-align: center;
        }
        
        .nav-item p {
        margin: 0 10px 15px;
        color: var(--text-color);
        font-size: 0.9em;
        text-align: center;
        line-height: 1.4;
        }


        /*  버튼 기본 스타일 재정의         */
        .toggle-btn {
            flex: 1 1 120px;               /* 최소 120px, 균등 확장 */
            max-width: 180px;
            margin: 6px 4px;
            padding: 12px 0;
            background: linear-gradient(135deg, var(--border-color), var(--box-bg-color));
            color: var(--text-color);
            font-family: 'Georgia', serif;
            font-size: 0.95em;
            font-weight: 600;
            letter-spacing: 0.5px;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.1);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            box-shadow: 0 4px 8px var(--shadow-color);
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .toggle-btn:hover {
            background: linear-gradient(135deg, var(--link-hover-color), var(--border-color));
            color: var(--tab-label-active-color);
            transform: translateY(-2px);
            box-shadow: 0 6px 12px var(--shadow-color);
        }

        /* Responsive Design Media Queries */

        /* Tablet and smaller desktops */
        @media (max-width: 1024px) {
            body {
                gap: var(--gap-mobile);
                /* Adjust sidebar width slightly */
                grid-template-columns: 30% 1fr;
            }

            header {
                font-size: 2.2em;
            }

            nav {
                margin: 0 var(--gap-mobile);
            }

            aside {
                grid-template-columns: 1fr; /* 태블릿 이하에서는 다시 1열 */
            }

            aside article {
                grid-column: auto;
            }

            main {
                margin-right: var(--gap-mobile);
                padding: var(--gap-mobile);
            }

            label {
                padding: 10px 15px;
                font-size: 0.95em;
                margin: 0 4px 8px 4px;
            }

            .content {
                padding: var(--gap-mobile);
            }

            .time-flow-overlay .image-wrapper {
                padding: var(--gap-mobile);
            }
        }


        /* Mobile devices */
        @media (max-width: 768px) {
            body {
                grid-template-columns: 1fr; /* Single column layout */
                grid-template-rows: var(--header-height) auto auto 1fr var(--footer-height); /* Nav, aside, main stack */
                grid-template-areas:
                    "header"
                    "nav"
                    "aside"
                    "main"
                    "footer";
                gap: var(--gap-mobile);
            }

            header {
                font-size: 1.8em; /* Smaller font size for header */
                line-height: normal; /* Allow height to adjust based on padding */
                padding: 10px;
                border-radius: 0; /* Remove rounded corners on smaller screens */
            }

            footer {
                border-radius: 0; /* Remove rounded corners on smaller screens */
            }

            nav {
                flex-direction: column; /* Stack nav labels vertically */
                align-items: stretch; /* Stretch labels to full width */
                padding: 10px;
                margin: 0; /* Remove horizontal margin */
                border-radius: 0;
            }

            label {
                margin: 5px 0; /* Vertical margin for stacked labels */
                border-radius: 8px; /* Full rounded corners for stacked labels */
                text-align: center;
                width: 100%; /* Make label take full width */
            }

            aside, main {
                padding: var(--gap-mobile);
                margin: 0; /* Remove side margins */
                border-radius: 0; /* Remove rounded corners */
            }

            main {
                grid-template-columns: 1fr; /* Stack articles vertically */
            }

            caption {
                font-size: 1.2em;
            }

            th, td {
                padding: 8px 10px; /* Smaller padding for table cells */
                font-size: 0.85em;
            }

            /* Adjust background for smaller screens to ensure visibility */
            body {
                background-size: auto 100%; /* Cover height, auto width */
                background-position: top center;
            }

            .time-flow-overlay .image-wrapper {
                max-width: 100vw;
                max-height: 100vh;
                width: 100vw;
                height: 100vh;
                padding: 0;
            }
            
            .time-flow-overlay img {
                max-width: 100vw;
                max-height: 100vh;
            }

            .overlay-close-btn {
                top: 15px;
                right: 15px;
                width: 45px;
                height: 45px;
                line-height: 41px;
                font-size: 1.8em;
            }

            .toggle-btn {
                padding: 8px 12px;
                font-size: 0.9em;
            }
        }

        @media (max-width: 480px) {
            header {
                font-size: 1.4em;
                padding: 8px;
            }

            .content {
                padding: 10px;
            }

            .box {
                margin: 8px auto;
                padding: 10px;
            }

            .box h2 {
                font-size: 1.1em;
            }

            table {
                font-size: 0.8em;
            }

            th, td {
                padding: 6px 8px;
            }

            .time-flow-overlay h3 {
                font-size: 1.3em;
            }

            .time-flow-overlay .image-wrapper {
                max-width: 100vw;
                max-height: 100vh;
                width: 100vw;
                height: 100vh;
                padding: 0;
            }
            
            .time-flow-overlay img {
                max-width: 100vw;
                max-height: 100vh;
            }

            .overlay-close-btn {
                top: 10px;
                right: 10px;
                width: 40px;
                height: 40px;
                line-height: 36px;
                font-size: 1.5em;
            }
        }
    </style>
</head>

<body>
    <header>
        <h1>삼국지 인간학에 오신것을 환영합니다</h1>
    </header>

    <nav class="tab-container">
  <ul class="nav-grid">
    <li>
      <button class="nav-item" data-tab="tab1">
        <img
          src="./images/samgukjiperson.png"
          alt="인물론"
          onerror="this.onerror=null; this.src='https://placehold.co/400x300/fff/000?text=No+Image';"
        >
        <h3>인물론</h3>
        <p>삼국지 주요 인물들의 성격과 전략을 분석합니다.</p>
      </button>
    </li>
    <li>
      <button class="nav-item" data-tab="tab2">
        <img
          src="./images/samgukjiandyanyi.png"
          alt="삼국지와 연의"
          onerror="this.onerror=null; this.src='https://placehold.co/400x300/fff/000?text=No+Image';"
        >
        <h3>삼국지와 연의</h3>
        <p>정사와 연의의 차이를 비교하고 그 의의를 살펴봅니다.</p>
      </button>
    </li>
    <li>
      <button class="nav-item" data-tab="tab3">
        <img
          src="./images/guandubattle.png"
          alt="관도대전"
          onerror="this.onerror=null; this.src='https://placehold.co/400x300/fff/000?text=No+Image';"
        >
        <h3>관도대전</h3>
        <p>조조와 원소가 북방의 최종 승자를 겨루는 전투입니다.</p>
      </button>
    </li>
    <li>
      <button class="nav-item" data-tab="tab4">
        <img
          src="./images/redcliffbattle.png"
          alt="적벽대전"
          onerror="this.onerror=null; this.src='https://placehold.co/400x300/fff/000?text=No+Image';"
        >
        <h3>적벽대전</h3>
        <p>남녀노소 모두 사랑하는 불멸의 수싸움을 되짚어봅니다.</p>
      </button>
    </li>
    <li>
      <button class="nav-item" data-tab="tab5">
        <img
          src="./images/yilingbattle.png"
          alt="이릉대전"
          onerror="this.onerror=null; this.src='https://placehold.co/400x300/fff/000?text=No+Image';"
        >
        <h3>이릉대전</h3>
        <p>촉의 운명을 갈랐던 마지막 대규모 전투를 분석합니다.</p>
      </button>
    </li>
  </ul>
</nav>

    <!-- Semantic tag for sidebar content -->
    <aside>
        <article>
            <h3><span style="color: blue;">蒼天</span>以死，<span style="color: gold;">黃天</span>當立，勢在甲子，天下大吉</h3>
            <div class="box">
                <h2>후한의 멸망</h2>
                <ol>
                    <li>사실상 천자가 <span style="color: red;">和帝</span>에서 죽은거 맞는지?</li>
                    <li><span style="color: red;">桓帝,靈帝</span>때 나라가 망했다. (출사표)</li>
                    <li>농민의 난, 황건적의 난, 동탁의 난, 이각 및 곽사의 난으로 부터 군웅할거까지</li>
                    <li>奉天子以令不臣, 挾天子以令諸候;
                        <span style="color: blue;">治世</span>의<span style="color: red;">能臣</span>,
                        <span style="color: blue;">亂世</span>의<span style="color: red;">奸雄;</span></li>
                </ol>
            </div>
        </article>
        <!-- 버튼 효과 -->
        <!-- 1) 시대 개관 -->
        <fieldset class="btn-group">
            <legend>역사 흐름</legend>
            <button class="toggle-btn" data-image-src="images/samgukji02.png">시대 흐름</button>
            <button class="toggle-btn" data-image-src="images/samgukji03.png">3의 세계</button>
            <button class="toggle-btn" data-image-src="images/samgukjiShiDaiBeiJing.jpg">시대 배경</button>
        </fieldset>

        <!-- 4) 군주·장군·모사 -->
        <fieldset class="btn-group">
            <legend>군주·장군·모사</legend>
            <button class="toggle-btn" data-image-src="images/samgukji11.png">군주편</button>
            <button class="toggle-btn" data-image-src="images/samgukji12.png">장군편</button>
            <button class="toggle-btn" data-image-src="images/samgukji13.png">모사편</button>
        </fieldset>

        <!-- 2) 문헌·이론 -->
        <fieldset class="btn-group">
            <legend>문헌·이론</legend>
            <button class="toggle-btn" data-image-src="images/samgukji05.png">정사·연의 비교</button>
            <button class="toggle-btn" data-image-src="images/samgukjiZhengTongLun.jpg">정통론</button>
            <button class="toggle-btn" data-image-src="images/samgukji18.png">정사 평론</button>
            <button class="toggle-btn" data-image-src="images/samgukji19.png">모택동 평론</button>
        </fieldset>

        <!-- 3) 사회·인구 -->
        <fieldset class="btn-group">
            <legend>사회·인구</legend>
            <button class="toggle-btn" data-image-src="images/samgukji07.png">적벽대전 나이</button>
            <button class="toggle-btn" data-image-src="images/samgukji08.png">한족 중심 문화</button>
            <button class="toggle-btn" data-image-src="images/samgukji09.png">3국 시대 인구</button>
            <button class="toggle-btn" data-image-src="images/samgukji10.png">인구·기후 변화</button>
        </fieldset>

        <!-- 5) 조조 중심 -->
        <fieldset class="btn-group">
            <legend>조조 중심</legend>
            <button class="toggle-btn" data-image-src="images/samgukji14.png">조조의 정벌</button>
            <button class="toggle-btn" data-image-src="images/samgukji17.png">힘의 균형</button>
            <button class="toggle-btn" data-image-src="images/samgukji20.png">조조의 일생</button>
            <button class="toggle-btn" data-image-src="images/samgukji22.png">인재 등용</button>
            <button class="toggle-btn" data-image-src="images/samgukji23.png">제갈량 인맥</button>
            <button class="toggle-btn" data-image-src="images/samgukji24.png">창업자·후계자</button>
        </fieldset>

        <!-- 7) 전투 및 인물 -->
        <fieldset class="btn-group">
            <legend>전투 및 인물</legend>
            <button class="toggle-btn" data-image-src="images/samgukjiandyanyi.png">삼국지연의</button>
            <button class="toggle-btn" data-image-src="images/yilingbattle.png">이릉대전</button>
            <button class="toggle-btn" data-image-src="images/redcliffbattle.png">적벽대전</button>
            <button class="toggle-btn" data-image-src="images/guandubattle.png">관도대전</button>
            <button class="toggle-btn" data-image-src="images/samgukjicover.png">삼국지 표지</button>
            <button class="toggle-btn" data-image-src="images/samgukjiperson.png">삼국지 인물</button>
        </fieldset>

        <!-- 6) 지도 및 인구 -->
        <fieldset class="btn-group">
            <legend>지도 및 인구</legend>
            <button class="toggle-btn" data-image-src="images/samGukQunXiongZhengBa.jpg">삼국군웅쟁패</button>
            <button class="toggle-btn" data-image-src="images/samGukMap1.jpg">삼국지도 1</button>
            <button class="toggle-btn" data-image-src="images/samGukMap2.jpg">삼국지도 2</button>
            <button class="toggle-btn" data-image-src="images/eastHanMap1.jpg">동한지도 1</button>
            <button class="toggle-btn" data-image-src="images/eastHanMap2.jpg">동한지도 2</button>
            <button class="toggle-btn" data-image-src="images/samnGukPopulation.jpg">삼국 인구</button>
            <button class="toggle-btn" data-image-src="images/samGukMap.jpg">삼국지도</button>
        </fieldset>
    </aside>

    <!-- Semantic tag for main content area -->
    <main>
        <article>
            <!-- 동한 14명 황제 즉위/사망연도 -->
            <table>
                <caption>동한 14명 황제 즉위 및 사망 연도</caption>
                <thead>
                    <tr>
                        <th>순위</th>
                        <th>황제</th>
                        <th>재위기간</th>
                        <th>즉위나이</th>
                        <th>사망연도</th>
                    </tr>
                </thead>
                <tbody>
                    <tr><td>초대</td><td>광무제</td><td>25~57년</td><td>31세즉위</td><td>62세 사망</td></tr>
                    <tr><td>2대</td><td>명제</td><td>57~75년</td><td>30세즉위</td><td>48세 사망</td></tr>
                    <tr><td>3대</td><td>장제</td><td>75~88년</td><td>19세즉위</td><td>32세 사망</td></tr>
                    <tr><td>4대</td><td>화제</td><td>88~105년</td><td>10세즉위</td><td>27세 사망</td></tr>
                    <tr><td>5대</td><td>상제</td><td>105~106년</td><td>100일즉위</td><td>1세 사망</td></tr>
                    <tr><td>6대</td><td>안제</td><td>106~125년</td><td>13세즉위</td><td>32세 사망</td></tr>
                    <tr><td>7대</td><td>소제</td><td>125년</td><td>재위200일</td><td>승인안함</td></tr>
                    <tr><td>8대</td><td>순제</td><td>125~144년</td><td>11세즉위</td><td>30세 사망</td></tr>
                    <tr><td>9대</td><td>충제</td><td>144~145년</td><td>2세즉위</td><td>3세 사망</td></tr>
                    <tr><td>10대</td><td>질제</td><td>145~146년</td><td>8세즉위</td><td>9세 사망</td></tr>
                    <tr><td>11대</td><td>환제</td><td>146~167년</td><td>15세즉위</td><td>37세 사망</td></tr>
                    <tr><td>12대</td><td>영제</td><td>168~189년</td><td>12세즉위</td><td>34세 사망</td></tr>
                    <tr><td>13대</td><td>소제</td><td>189년</td><td>16세즉위</td><td>18세 사망</td></tr>
                    <tr><td>14대</td><td>헌제</td><td>189~220년</td><td>9세즉위</td><td>54세 사망</td></tr>
                </tbody>
            </table>
        </article>

        <article>
            <!-- 삼국지 정통론 -->
            <table>
                <caption>삼국지 정통론</caption>
                <thead>
                    <tr>
                        <th>순서</th>
                        <th>내용</th>
                        <th>자료</th>
                        <th>저자</th>
                        <th>연도</th>
                    </tr>
                </thead>
                <tbody>
                    <tr><td>1</td><td class="era-text">삼국시대</td><td colspan="2">-</td><td>184~280</td></tr>
                    <tr><td rowspan="4">2</td><td rowspan="4" class="category-text">정사</td><td rowspan="2">삼국지</td><td>진수</td><td>285</td></tr>
                    <tr><td>배송지</td><td>429</td></tr>
                    <tr><td>후한서</td><td>범엽</td><td>445</td></tr>
                    <tr><td>진서</td><td>방현령</td><td>648</td></tr>
                    <tr><td rowspan="3">3</td><td rowspan="3" class="category-text">준정사</td><td>자치통감</td><td>사마광</td><td>1086</td></tr>
                    <tr><td>자치통감강목</td><td>주희</td><td>1200</td></tr>
                    <tr><td>자치통감강목주해</td><td>세종대왕</td><td>1442</td></tr>
                    <tr><td rowspan="2">4</td><td rowspan="2" class="category-text">연의</td><td rowspan="2">삼국지연의</td><td>나관중</td><td>1321</td></tr>
                    <tr><td>모종강</td><td>1679</td></tr>
                    <tr><td>5</td><td class="region-text">일본,한국</td><td>만화,소설,게임 등 </td><td>-</td><td>1679~(1940)</td></tr>
                    <tr><td>6</td><td class="event-text">문화대혁명</td><td>평론</td><td>모택동</td><td>1966</td></tr>
                    <tr><td rowspan="4">기타</td><td class="literature-text">시</td><td>촉상</td><td>두보</td><td>750</td></tr>
                    <tr><td class="literature-text">사</td><td class="literature-text">적벽부</td><td>소동파</td><td>1082</td></tr>
                    <tr><td>사서</td><td class="literature-text">18사략</td><td>증선지</td><td>1265</td></tr>
                    <tr><td>소설</td><td class="literature-text">삼국지평화</td><td>-</td><td>1320</td></tr>
                </tbody>
            </table>
        </article>
    </main>

    <footer>
        저작권&copy;2025 김우성 /
        <a href="https://naver.com" target="_blank">네이버</a>
        <a href="https://chatgpt.com/" target="_blank">ChatGPT</a>
        <a href="https://gemini.google.com/" target="_blank">Gemini</a>
    </footer>

    <!-- 시대 흐름 내용을 오버레이로 변경 -->
    <div id="time-flow-overlay" class="time-flow-overlay">
        <!-- ① 추가: 닫기(X) 버튼 -->
        <button id="overlay-close-btn" class="overlay-close-btn" aria-label="닫기">×</button>
        <div class="image-wrapper">
            <!-- h3 태그를 제거하여 이미지에 포함된 제목을 활용 -->
            <img id="overlay-display-image" src="samgukji02.png" onerror="this.onerror=null; this.src='https://placehold.co/800x450/fff/000?text=이미지+로드+실패';" alt="확대 이미지">
        </div>
    </div>

<script>
        // 상수 정의 - 상단에 모아서 관리
        const SELECTORS = {
            ASIDE_CONTAINER: 'aside',
            TIME_FLOW_OVERLAY: '#time-flow-overlay',
            OVERLAY_DISPLAY_IMAGE: '#overlay-display-image',
            OVERLAY_CLOSE_BTN: '#overlay-close-btn',
            TOGGLE_BTN: 'button.toggle-btn'
        };

        const CLASSES = {
            ACTIVE: 'active'
        };

        const KEYS = {
            ESCAPE: 'Escape'
        };

        // DOM 요소들
        const elements = {
            asideContainer: null,
            timeFlowOverlay: null,
            overlayDisplayImage: null,
            closeBtn: null
        };

        // 초기화 함수
        function initializeElements() {
            elements.asideContainer = document.querySelector(SELECTORS.ASIDE_CONTAINER);
            elements.timeFlowOverlay = document.getElementById('time-flow-overlay');
            elements.overlayDisplayImage = document.getElementById('overlay-display-image');
            elements.closeBtn = document.getElementById('overlay-close-btn');
        }

        // 공통 닫기 함수
        function hideOverlay() {
            elements.timeFlowOverlay.classList.remove(CLASSES.ACTIVE);
            document.body.style.overflow = '';
        }

        // 오버레이 표시 함수
        function showOverlay(imageSrc) {
            elements.overlayDisplayImage.src = imageSrc;
            elements.timeFlowOverlay.classList.add(CLASSES.ACTIVE);
            document.body.style.overflow = 'hidden';
            elements.timeFlowOverlay.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }

        // 이벤트 핸들러들
        function handleOverlayBackgroundClick(e) {
            if (e.target === elements.timeFlowOverlay) {
                hideOverlay();
            }
        }

        function handleKeyDown(e) {
            if (e.key === KEYS.ESCAPE && elements.timeFlowOverlay.classList.contains(CLASSES.ACTIVE)) {
                hideOverlay();
            }
        }

        function handleAsideContainerClick(event) {
            const btn = event.target.closest(SELECTORS.TOGGLE_BTN);
            if (!btn) return;

            const src = btn.dataset.imageSrc;
            if (!src) return;

            // 같은 이미지가 이미 열려있으면 닫기, 아니면 열기
            if (elements.timeFlowOverlay.classList.contains(CLASSES.ACTIVE) &&
                elements.overlayDisplayImage.src.includes(src)) {
                hideOverlay();
            } else {
                showOverlay(src);
            }
        }

        // 이벤트 리스너 등록
        function addEventListeners() {
            elements.timeFlowOverlay.addEventListener('click', handleOverlayBackgroundClick);
            elements.closeBtn.addEventListener('click', hideOverlay);
            document.addEventListener('keydown', handleKeyDown);
            elements.asideContainer.addEventListener('click', handleAsideContainerClick);
        }

        // 메인 초기화 함수
        function initialize() {
            initializeElements();
            addEventListeners();
        }

        // DOM 로드 완료 시 초기화
        document.addEventListener('DOMContentLoaded', initialize);
</script>
</body>
</html>
